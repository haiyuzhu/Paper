%% Thesis Template of Nanjing University
%%   for using NJUthesis package with LaTeX2e
%%
%% Created by Wenbo Yang <http://solrex.org>
%% Homepage: http://share.solrex.org/njuthesis/
%%
%% $Id: template.tex,v 0.2 2010/05/01 Exp $


\documentclass[dvipdfmx, oneside, master]{NJUthesis}
% 可选参数：
%   nobackinfo 取消封二页导师签名信息
%   oneside/twoside 单面/双面打印
%   phd/master 博士/硕士论文
% 下面三个选一个：
% dvipdfm 使用 dvipdfm(x) 生成最终的 PDF 文档 (缺省设置，不建议修改）
% dvips 使用 dvips 生成最终的 PS 文档
% pdftex 使用 pdfLaTeX 生成最终的 PDF 文档

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 导言区
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 小节标题靠左对齐
\CTEXsetup[format+={\flushleft}]{section}

% 设置链接颜色
\hypersetup{
% pdf 属性
             pdftitle={Dynamic Human Body Modeling Using a Single RGB~Camera}, %
            pdfauthor={Haiyu Zhu}
}

% 表格
\usepackage{longtable, multirow}
% 英文使用 Times 字体
\usepackage{times}
% 源代码
\usepackage{fancyvrb}
% 自定义列表样式
\usepackage{enumitem}

\usepackage{graphicx}
\usepackage{subfigure}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 封面部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 国家图书馆封面内容字符串
% 仅博士需要填写并保证模板参数选择了 phd
% \classification{}
% \confidential{}
% \UDC{}
% \titlelinea{南京大学学位论文}
% \titlelineb{~\LaTeX{}~模板}
% \titlelinec{}
% \advisorinfo{南京大学~数学系}
% \chairman{XXX 教授}
% \reviewera{某某某某　副研究员}
% \reviewerb{XXX 教授}
% \reviewerc{XXX 教授}
% \reviewerd{XXX 教授}
% \nlcfootdate{2010~年~5~月~1~日}

% 南大中文封面内容字符串
\title{单相机动态人体三维重建}
\author{朱海宇}
\studentnum{~MF1423044}
\grade{2017}
\advisor{于耀~~副教授}
\major{计算机视觉}
\researchfield{三维重建}
\footdate{2010~年~5~月}
\submitdate{2010~年~5~月~10~日}
\defenddate{2010~年~6~月~1~日}

% 英文封面内容字符串
\englishtitle{Dynamic Human Body Modeling Using a Single RGB Camera}
\englishauthor{Haiyu Zhu}
\englishadvisor{Professor Yao Yu}
\englishinstitute{School of Electronic Science and Engineering}
\englishdegree{master}
\englishmajor{Computer Vision}
\englishdate{May 2017}

% 制作封面命令
\maketitle

% 制作英文封面命令
\makeenglishtitle


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 前言部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\frontmatter

% 中文摘要
\begin{abstract}

本文是南京大学学位论文的~\LaTeX{}~模板。目前不支持本科生学位论文格式。

除了介绍~\LaTeX{}~文档类~\texttt{NJUthesis}~的用法外，本文还是一
个简要的学位论文写作指南。

\keywords{南京大学; 学位论文; \LaTeX{}~模板}

\end{abstract}

% 英文摘要
\begin{englishabstract}

In this paper, we present a novel automatic pipeline to build personalized parametric models of dynamic people using a single RGB camera.
Compared to previous approaches that use monocular RGB images, our system can model a 3D human body automatically and incrementally, taking advantage of human motion.
Based on coarse 2D and 3D poses estimated from image sequences, we first perform a kinematic classification of human body parts to refine the poses and obtain reconstructed body parts.
Next, a personalized parametric human model is generated by driving a general template to fit the body parts and calculating the non-rigid deformation.
Experimental results show that our shape estimation method achieves comparable accuracy with reconstructed models using depth cameras, yet requires neither user interaction nor any dedicated devices, leading to the feasibility of using this method on widely available smart phones.

\englishkeywords{SCAPE, non-rigid reconstruction, single RGB camera, pose estimation, motion classification, structure from motion}

\end{englishabstract}

% 生成目录命令
\tableofcontents

% 以下两个目录可根据具体情况注释掉
% 生成表格目录命令
\listoftables
% 生成插图目录命令
\listoffigures


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 正文部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter

\chapter{绪论}

\section{三维人体建模概述}

人体三维建模在游戏、计算机动画和虚拟试衣等领域都有着广泛的应用，并且在虚拟感知、计算机视觉和计算机图形学中它始终是学者们不断探讨的热点问题。
在过去的几十年中，学者们探索出了许多种方法来获取人体的三维模型，例如借助深度传感器获取深度图来重建人体三维模型~\cite{dou20153d,newcombe2015dynamicfusion,newcombe2011kinectfusion,zeng2013templateless,zhang2014quality}，利用三维的扫描仪获取人体三维模型的~\cite{anguelov2005scape,werghi2007segmentation}，还有借助多视角重建完成人体三维重建的~\cite{gall2009motion,huang2014human,liu2013markerless,robertini2014efficient,zollhofer2014real}模板。
这些方法的提出旨在更准确、更加快速的获取人体的三维模型。

\subsection{深度相机人体三维建模}
\label{sec:depth_sensor_modeling}

最近几年像Kinect这类深度相机的出现，使得我们可以通过深度图或者RGB-D图像重建出物体的三维模型。
Newcombe等人~\cite{newcombe2011kinectfusion}实现了一个名为KinectFusion的系统，它可以重建出场景比较精细的三维模型。
但是这个系统是有限制的，它需要借助深度相机并且只能应用于静态的场景。
基于此，Li, Tong, Weiss, Zeng等人~\cite{li20133d,tong2012scanning,weiss2011home,zeng2013templateless}把这个系统应用到人体三维模型重建中，只要我们拿着Kinect绕着一个保持固定姿势的人转一圈我们就可以得到这个人的三维模型。
Zhang等人~\cite{zhang2014quality}利用Kinect获取同一个人在不同姿势下的三维模型，然后将这些模型进行融合从而训练出这个人的参数化人体三维模型，之后就可以用这个参数化的模型模拟出这个人在各种姿态下的三维模型。
Newcombe等人~\cite{newcombe2015dynamicfusion}拓展了KinectFusion的应用场景，他们利用稠密体变换场(Dense Volumetric Warp-field)，借助Kiect相机可以重建出动态人的三维模型。
Bogo等人~\cite{bogodetailed}提出了一个名为Delta的多分辨率人体模型，可以从单目的RGB-D图像序列中恢复出动态人体的三维模型，并借助三维模型和图片上纹理随时间的变化来优化模型的体型。
Dou等人~\cite{dou20153d}通过非刚性光束平差法(Non-rigid Bundle Adjustment)优化最终模型的体型和每一帧模型的非刚性参数，从而使得系统能够获取动态的并且包含大量非刚性运动的动态物体的三维模型。

\subsection{多视角人体三维建模}
\label{sec:multi_view_modeling}

多视角三维重建主要是通过多个相机的不同视角，借助三角测量计算出场景的三维模型。
在重建之前我们需要对整个多相机系统进行标定。

Gall等人~\cite{gall2009motion}利用非监督的方法跟踪人体骨骼的运动并预测人体模型表面可能的非刚性形变，从而从一个多视角的图像序列中恢复出人体骨骼的运动以及人体模型表面的形变。
Liu等人~\cite{liu2013markerless}通过将参数化的人体三维模型和图像上人体的轮廓进行拟合从何推到出人体的体型和姿态。
Huang等人~\cite{huang2014human}提出了关键帧的概念以及一种外点排除方法。
他们将将关键帧处获取到的人体模型作为“参考模型”，随着“参考模型”数量的增多，系统就可以推断出某些视角下相机无法拍到的人体部位的可能形状从而排除数据中的噪声，因此提高了系统的鲁棒性。
Robertini等人~\cite{robertini2014efficient}提出了用三维高斯函数来表示人体体型的新方法，并将人体三维重建问题转化成连续图像序列中人体表面顶点全局优化的问题。
Zollhofer等人~\cite{zollhofer2014real}结合体融合方法和非刚性三维重建算法重实时的重建出人体的三维模型。

\subsection{单视角人体三维建模}
\label{sec:single_view_modeling}

虽然深度相机重建出来的模型精度较高，并且已经能够应用在动态的场景，但是，深度相机的成本却限制了这种重建法案的普及。
多相机三维重建需要多个相机配合工作，不仅整个三维重建系统的成本没有降低，而且使得重建系统环境搭建比较繁琐。
上面的种种因素都制约了深度相机和多相机进行三维重建的应用场景。
相比之下，单相机三维重建具备设备成本较低，系统搭建简单的优势，并且随着技术的发展，手机等移动设备使得用户可以简单快速的获取高质量的影像资料。
因此，单相机三维重建有着巨大的发展潜力，有着广阔的应用场景。

Guan等人~\cite{guan2009estimating}利用图像上人体轮廓、边缘和阴影信息将一个静态人体模型拟合到图像上，从而获取图像上人体的姿态和体型。
Hasler等人~\cite{hasler2010multilinear}利用双线性静态模型来获取单张图片上人的姿态和体型信息。
虽然多张图片可以提高他们系统的精度，但是他们重建出来模型的表面还是有许多的缺陷。
Jain等人~\cite{jain2010moviereshape}将参数化的三维模型投影到图片中的人体轮廓上，利用KLT(Kanade-Lucas-Tomasi)算法跟踪图像上手动标定的特征点，借此同时优化出图片中人物的三维体型和姿态。
除此之外，还有学者使用图片上的阴影获取人体三维形状~\cite{guan2009estimating}，利用参数化的模型拟合出人体模型~\cite{hasler2010multilinear,jain2010moviereshape,zhou2010parametric}，还有利用图像上人体轮廓信息作为问题的约束来求解重建问题的~\cite{guan2009estimating,huang2014human,liu2013markerless}。
其中，Zhou等人~\cite{zhou2010parametric}提出的方法是用计算出的SCAPE(Shape Completion and Animation for PEople)参数模型来匹配图片上人的体型，借此可以修改人体的体型参数来编辑图片上人的体型。
从阴影到结构的方法受限于光源的方向或者强度，而且多个光源的情况下会增加问题的难度；基于模型的方法需要一个比较好的参数化模型；基于轮廓的方法可能因单张照片上人体轮廓信息太少而不足以重建出质量较高的模型。
Yu等人~\cite{yu2015direct}先用SFM的方法获取一个人脸的三维模型，然后用这个模型来做人脸的实时动态重建。

\section{本文主要工作}

由于人体具有较高的灵活性，单个相机获取的获取的信息十分有限，因此自动化的动态人体的单相机三维重建一直是一个充满挑战的问题。
本文提出的方法能够借助一个普通的RGB相机自动的重建出一个动态的人体三维模型，如图~\ref{fig:introduction}。
图中第一行是我们通过相机获取的人体运动的序列，第二行是我们重建出来的每一帧中人体的三维模型。

\begin{figure}[ht]
 \centering
 % Requires \usepackage{graphicx}
 \includegraphics[width=\textwidth]{figures/introduction.pdf}
 \caption{系统概要}
 \label{fig:introduction}
\end{figure}

在前人的工作中，人体的运动会使得问题的约束条件不足并最终导致重建结果的质量下降。
但是，通过对人体的运动分析我们发现：人体的运动可以提供一些额外的信息来帮助我们提高重建模型的质量。
因为单相机图像的获取其实是空间物体做投影变换，加上物体本身的遮挡这会使得物体很大一部分信息的丢失。
单如果物体能够运动起来，我们就可以在某个时间段捕获到之前丢失的一部分信息，借助这些信息我们就可以提高人体模型的重建精度。

虽然人体是一个比较复杂的非刚性体，但是由于人体骨骼的存在，人体所能产生的形变是有限的。
在人体运动过程中，我们先将人体运动的序列划分成很多时间段，然后利用人体运动变化的信息我们对每段时间中的人体从运动学上将人体划分成许多的“刚性块”，这样就将人体的非刚性重建问题退化成刚性物体的三维重建。
对于人体不同的“刚性快”，我们用它跟一个参数化的人体模型对应的部位进行融合变形。
随着数据的不断增加，参数化模型不同的身体部分跟真实的人体的实际模型之间的差距越来越小，最终得到一个精度较高的人体三维模型。
由于我们最终得到的模型本身是一个参数化的模型，因此我们可以将其变换到人体不同姿势下如图~\ref{fig:introduction}中第二行。

与~\ref{sec:depth_sensor_modeling}、~\ref{sec:multi_view_modeling}和~\ref{sec:single_view_modeling}中介绍的人体三维重建方法相比，本文所介绍的方法主要贡献如下：
\begin{itemize}
  \item 与深度相机重建相比，设备成本较低，能够重建出动态人体的三维模型；
  \item 与多相机重建相比，数据采集环境简单，不需要进行复杂的相机标定；
  \item 设计了一个运动学人体部位分类器，优化了人体~3D姿态精度；
  \item 是首个用普通~RGB~相机自动化重建出动态人体三维模型的系统。
\end{itemize}


\section{本文的章节组织形式}

\textbf{TODO}


\chapter{人体三维模型重建}
\label{chap:pipeline}

在这个章节中，我们将详细地介绍图~\ref{fig:pipeline}种展示的动态人体三维重建系统。
系统整体上可以分为以下几个主要步骤：

\begin{enumerate}
\item 我们使用一个软件检测子来获取图像上人体~2D、~3D的关节点位置。因此不需要去手动标定图像上人体的关节点位置。
\item 利用人体的运动学信息，我们优化了获取到的人体三维姿态信息，并将图像上的人体划分成许多刚性块的组合，使得动态人体三维重建从一个非刚性重建问题转换成刚性重建问题。
\item 在不同的时间段，利用身体部位的光流并结合光束平差法(Bundle Adjustment)我们获得到人体不同部位的三维形状。随着越来越多的图像参投入到模型重建，不同身体部位重建的精度不断提高。
\item 一个通用的参数化人体模型通过非刚性形变方法跟之前不同时间段获取到的人体不同部位的模型进行融合，并提取出人体运动过程中不同部位的刚性成分和非刚性成分。最终获取到人体体型模型，和每一帧下人体的三维模型。
\end{enumerate}

\begin{figure}[h]
\centering
\includegraphics[width=\textwidth]{figures/pipeline.pdf}
\caption{系统流程示意图}
\label{fig:pipeline}
\end{figure}

\section{人体三维姿态检测}
\label{sec:pipeline_pose}

在我们的系统中，我们利用了Hasler等人~\cite{hasler2009statistical}提供的数据集，借助~Anguelov等人~\cite{anguelov2005scape}提供的方法训练出如图~\ref{fig:template}所示的~SCAPE~模型。

\begin{figure}[h]
 \centering
 \subfigure[]{
 \includegraphics[height=0.5\textwidth]{figures/template1.png}
 }
 \subfigure[]{
 \includegraphics[height=0.5\textwidth]{figures/template2.png}
 }
 \caption{{(\textbf{a}) Our template and (\textbf{b}) the template in a different pose with 16~color-coded parts.}}
 \label{fig:template}
\end{figure}


\section{运动学分割优化人体姿态}

\section{稠密三维重建}

\subsection{对应点匹配}

\subsection{模型刚性、非刚性成分分解}

\chapter{结果和讨论}

\section{定性分析}

\section{定量分析}

\section{对比}

\chapter{结论}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 附件部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\backmatter

% 参考文献
% 使用 BibTeX，不使用 BibTeX 时注释掉下面一句。
\bibliography{template}

% 不使用 BibTeX
%\begin{thebibliography}{2}
%
%\bibitem{deng:01a}
%{邓建松,~彭冉冉,~陈长松}.
%\newblock {\em \LaTeXe{}~科技排版指南}.
%\newblock 科学出版社,~书号:~7-03-009239-2/TP.1516, 北京, 2001.
%
%\bibitem{wang:00a}
%王磊.
%\newblock {\em \LaTeXe{}~插图指南}.
%\newblock 2000.
%\end{thebibliography}

% 本章可以删去
\Nchapter{简历与科研成果}

\noindent {\heiti 基本情况}
\vspace{1ex}

\noindent 杨文博，男，汉族，1986~年~11~月出生，河南省民权县人。

\vspace{2ex}
\noindent {\heiti 教育背景}

\begin{description}[labelindent=0em, leftmargin=8em, style=sameline]

\item[2007.9～2010.6] 中国科学院研究生院信息安全国家重点实验室 \hfill 硕士

\item[2003.9～2007.6] 南京大学数学系 \hfill 本科

\end{description}

% 发表文章目录
\vspace{5ex}
\begin{Publications}{2}

\item Wenbo Yang and Wen Tao Zhu, ``Voting-on-Grid Clustering for Secure
  Localization in Wireless Sensor Networks,'' in \emph{Proc. IEEE
  International Conference on Communications (ICC) 2010}, May. 2010.

\item Wenbo Yang and Wen Tao Zhu, ``Protecting Source Location Privacy in
Wireless Sensor Networks with Data Aggregation,'' in \emph{Proc. 7th
International Conference on Ubiquitous Intelligence and Computing (UIC) 2010},
Oct. 2010.

\end{Publications}

\vspace{4ex}
\noindent {\heiti 攻读硕士学位期间参与的科研课题}

\begin{enumerate}[label=\arabic*., labelindent=0em, leftmargin=*]

\item 国家自然科学基金面上项目``无线传感器网络在知识获取过程中的若干安全问题研究''
（课题年限~2010.1～2012.12），负责位置相关安全问题的研究。

\item 中国科学院知识创新工程重要方向项目下属课题``下一代移动通信安全机制研究''
（课题年限~2010.1～2010.12），负责~LTE/SAE~认证相关的安全问题研究。

\end{enumerate}

  % 致谢
%\begin{thanks}
%\vskip 18pt
%
%首先感谢XXX
%
%\end{thanks}


\end{document}
