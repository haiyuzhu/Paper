%% Thesis Template of Nanjing University
%%   for using NJUthesis package with LaTeX2e
%%
%% Created by Wenbo Yang <http://solrex.org>
%% Homepage: http://share.solrex.org/njuthesis/
%%
%% $Id: template.tex,v 0.2 2010/05/01 Exp $


\documentclass[dvipdfmx, oneside, master]{NJUthesis}
% 可选参数：
%   nobackinfo 取消封二页导师签名信息
%   oneside/twoside 单面/双面打印
%   phd/master 博士/硕士论文
% 下面三个选一个：
% dvipdfm 使用 dvipdfm(x) 生成最终的 PDF 文档 (缺省设置，不建议修改)
% dvips 使用 dvips 生成最终的 PS 文档
% pdftex 使用 pdfLaTeX 生成最终的 PDF 文档

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 导言区
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 小节标题靠左对齐
\CTEXsetup[format+={\flushleft}]{section}

% 设置链接颜色
\hypersetup{
% pdf 属性
             pdftitle={Dynamic Human Body Modeling Using a Single RGB~Camera}, %
            pdfauthor={Haiyu Zhu}
}

% 表格
\usepackage{longtable, multirow}
% 英文使用 Times 字体
\usepackage{times}
% 源代码
\usepackage{fancyvrb}
% 自定义列表样式
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{subfigure}

\usepackage{environ}
\NewEnviron{myequation}{%
\begin{equation}
\scalebox{0.88}{$\BODY$}
\end{equation}
}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 封面部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 国家图书馆封面内容字符串
% 仅博士需要填写并保证模板参数选择了 phd
% \classification{}
% \confidential{}
% \UDC{}
% \titlelinea{南京大学学位论文}
% \titlelineb{~\LaTeX{}~模板}
% \titlelinec{}
% \advisorinfo{南京大学~数学系}
% \chairman{XXX 教授}
% \reviewera{某某某某　副研究员}
% \reviewerb{XXX 教授}
% \reviewerc{XXX 教授}
% \reviewerd{XXX 教授}
% \nlcfootdate{2010~年~5~月~1~日}

% 南大中文封面内容字符串
\title{单相机动态人体三维重建}
\author{朱海宇}
\studentnum{~MF1423044}
\grade{2017}
\advisor{于耀~~副教授}
\major{计算机视觉}
\researchfield{三维重建}
\footdate{2010~年~5~月}
\submitdate{2010~年~5~月~10~日}
\defenddate{2010~年~6~月~1~日}

% 英文封面内容字符串
\englishtitle{Dynamic Human Body Modeling Using a Single RGB Camera}
\englishauthor{Haiyu Zhu}
\englishadvisor{Professor Yao Yu}
\englishinstitute{School of Electronic Science and Engineering}
\englishdegree{master}
\englishmajor{Computer Vision}
\englishdate{May 2017}

% 制作封面命令
\maketitle

% 制作英文封面命令
\makeenglishtitle


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 前言部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\frontmatter

% 中文摘要
\begin{abstract}

本文是南京大学学位论文的~\LaTeX{}~模板。目前不支持本科生学位论文格式。

除了介绍~\LaTeX{}~文档类~\texttt{NJUthesis}~的用法外，本文还是一
个简要的学位论文写作指南。

\keywords{南京大学; 学位论文; \LaTeX{}~模板}

\end{abstract}

% 英文摘要
\begin{englishabstract}

In this paper, we present a novel automatic pipeline to build personalized parametric models of dynamic people using a single RGB camera.
Compared to previous approaches that use monocular RGB images, our system can model a 3D human body automatically and incrementally, taking advantage of human motion.
Based on coarse 2D and 3D poses estimated from image sequences, we first perform a kinematic classification of human body parts to refine the poses and obtain reconstructed body parts.
Next, a personalized parametric human model is generated by driving a general template to fit the body parts and calculating the non-rigid deformation.
Experimental results show that our shape estimation method achieves comparable accuracy with reconstructed models using depth cameras, yet requires neither user interaction nor any dedicated devices, leading to the feasibility of using this method on widely available smart phones.

\englishkeywords{SCAPE, non-rigid reconstruction, single RGB camera, pose estimation, motion classification, structure from motion}

\end{englishabstract}

% 生成目录命令
\tableofcontents

% 以下两个目录可根据具体情况注释掉
% 生成表格目录命令
\listoftables
% 生成插图目录命令
\listoffigures


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 正文部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter

\chapter{绪论}

\section{三维人体建模概述}

人体三维建模在游戏、计算机动画和虚拟试衣等领域都有着广泛的应用，并且在虚拟感知、计算机视觉和计算机图形学中它始终是学者们不断探讨的热点问题。
在过去的几十年中，学者们探索出了许多种方法来获取人体的三维模型，例如借助深度传感器获取深度图来重建人体三维模型~\cite{dou20153d,newcombe2015dynamicfusion,newcombe2011kinectfusion,zeng2013templateless,zhang2014quality}，利用三维的扫描仪获取人体三维模型的~\cite{anguelov2005scape,werghi2007segmentation}，还有借助多视角重建完成人体三维重建的~\cite{gall2009motion,huang2014human,liu2013markerless,robertini2014efficient,zollhofer2014real}模板。
这些方法的提出旨在更准确、更加快速的获取人体的三维模型。

\subsection{深度相机人体三维建模}
\label{sec:depth_sensor_modeling}

最近几年像Kinect这类深度相机的出现，使得我们可以通过深度图或者RGB-D图像重建出物体的三维模型。
Newcombe等人~\cite{newcombe2011kinectfusion}实现了一个名为KinectFusion的系统，它可以重建出场景比较精细的三维模型。
但是这个系统是有限制的，它需要借助深度相机并且只能应用于静态的场景。
基于此，Li, Tong, Weiss, Zeng等人~\cite{li20133d,tong2012scanning,weiss2011home,zeng2013templateless}把这个系统应用到人体三维模型重建中，只要我们拿着Kinect绕着一个保持固定姿势的人转一圈我们就可以得到这个人的三维模型。
Zhang等人~\cite{zhang2014quality}利用Kinect获取同一个人在不同姿势下的三维模型，然后将这些模型进行融合从而训练出这个人的参数化人体三维模型，之后就可以用这个参数化的模型模拟出这个人在各种姿态下的三维模型。
Newcombe等人~\cite{newcombe2015dynamicfusion}拓展了KinectFusion的应用场景，他们利用稠密体变换场(Dense Volumetric Warp-field)，借助Kiect相机可以重建出动态人的三维模型。
Bogo等人~\cite{bogodetailed}提出了一个名为Delta的多分辨率人体模型，可以从单目的RGB-D图像序列中恢复出动态人体的三维模型，并借助三维模型和图片上纹理随时间的变化来优化模型的体型。
Dou等人~\cite{dou20153d}通过非刚性光束平差法(Non-rigid Bundle Adjustment)优化最终模型的体型和每一帧模型的非刚性参数，从而使得系统能够获取动态的并且包含大量非刚性运动的动态物体的三维模型。

\subsection{多视角人体三维建模}
\label{sec:multi_view_modeling}

多视角三维重建主要是通过多个相机的不同视角，借助三角测量计算出场景的三维模型。
在重建之前我们需要对整个多相机系统进行标定。

Gall等人~\cite{gall2009motion}利用非监督的方法跟踪人体骨骼的运动并预测人体模型表面可能的非刚性形变，从而从一个多视角的图像序列中恢复出人体骨骼的运动以及人体模型表面的形变。
Liu等人~\cite{liu2013markerless}通过将参数化的人体三维模型和图像上人体的轮廓进行拟合从何推到出人体的体型和姿态。
Huang等人~\cite{huang2014human}提出了关键帧的概念以及一种外点排除方法。
他们将将关键帧处获取到的人体模型作为“参考模型”，随着“参考模型”数量的增多，系统就可以推断出某些视角下相机无法拍到的人体部位的可能形状从而排除数据中的噪声，因此提高了系统的鲁棒性。
Robertini等人~\cite{robertini2014efficient}提出了用三维高斯函数来表示人体体型的新方法，并将人体三维重建问题转化成连续图像序列中人体表面顶点全局优化的问题。
Zollhofer等人~\cite{zollhofer2014real}结合体融合方法和非刚性三维重建算法重实时的重建出人体的三维模型。

\subsection{单视角人体三维建模}
\label{sec:single_view_modeling}

虽然深度相机重建出来的模型精度较高，并且已经能够应用在动态的场景，但是，深度相机的成本却限制了这种重建法案的普及。
多相机三维重建需要多个相机配合工作，不仅整个三维重建系统的成本没有降低，而且使得重建系统环境搭建比较繁琐。
上面的种种因素都制约了深度相机和多相机进行三维重建的应用场景。
相比之下，单相机三维重建具备设备成本较低，系统搭建简单的优势，并且随着技术的发展，手机等移动设备使得用户可以简单快速的获取高质量的影像资料。
因此，单相机三维重建有着巨大的发展潜力，有着广阔的应用场景。

Guan等人~\cite{guan2009estimating}利用图像上人体轮廓、边缘和阴影信息将一个静态人体模型拟合到图像上，从而获取图像上人体的姿态和体型。
Hasler等人~\cite{hasler2010multilinear}利用双线性静态模型来获取单张图片上人的姿态和体型信息。
虽然多张图片可以提高他们系统的精度，但是他们重建出来模型的表面还是有许多的缺陷。
Jain等人~\cite{jain2010moviereshape}将参数化的三维模型投影到图片中的人体轮廓上，利用KLT(Kanade-Lucas-Tomasi)算法跟踪图像上手动标定的特征点，借此同时优化出图片中人物的三维体型和姿态。
除此之外，还有学者使用图片上的阴影获取人体三维形状~\cite{guan2009estimating}，利用参数化的模型拟合出人体模型~\cite{hasler2010multilinear,jain2010moviereshape,zhou2010parametric}，还有利用图像上人体轮廓信息作为问题的约束来求解重建问题的~\cite{guan2009estimating,huang2014human,liu2013markerless}。
其中，Zhou等人~\cite{zhou2010parametric}提出的方法是用计算出的SCAPE(Shape Completion and Animation for PEople)参数模型来匹配图片上人的体型，借此可以修改人体的体型参数来编辑图片上人的体型。
从阴影到结构的方法受限于光源的方向或者强度，而且多个光源的情况下会增加问题的难度；基于模型的方法需要一个比较好的参数化模型；基于轮廓的方法可能因单张照片上人体轮廓信息太少而不足以重建出质量较高的模型。
Yu等人~\cite{yu2015direct}先用SFM的方法获取一个人脸的三维模型，然后用这个模型来做人脸的实时动态重建。

\section{本文主要工作}

由于人体具有较高的灵活性，单个相机获取的获取的信息十分有限，因此自动化的动态人体的单相机三维重建一直是一个充满挑战的问题。
本文提出的方法能够借助一个普通的RGB相机自动的重建出一个动态的人体三维模型，如图~\ref{fig:introduction}。
图中第一行是我们通过相机获取的人体运动的序列，第二行是我们重建出来的每一帧中人体的三维模型。

\begin{figure}[ht]
  \centering
  % Requires \usepackage{graphicx}
  \includegraphics[width=\textwidth]{figures/introduction.pdf}
  \caption{系统概要}
  \label{fig:introduction}
\end{figure}

在前人的工作中，人体的运动会使得问题的约束条件不足并最终导致重建结果的质量下降。
但是，通过对人体的运动分析我们发现：人体的运动可以提供一些额外的信息来帮助我们提高重建模型的质量。
因为单相机图像的获取其实是空间物体做投影变换，加上物体本身的遮挡这会使得物体很大一部分信息的丢失。
单如果物体能够运动起来，我们就可以在某个时间段捕获到之前丢失的一部分信息，借助这些信息我们就可以提高人体模型的重建精度。

虽然人体是一个比较复杂的非刚性体，但是由于人体骨骼的存在，人体所能产生的形变是有限的。
在人体运动过程中，我们先将人体运动的序列划分成很多时间段，然后利用人体运动变化的信息我们对每段时间中的人体从运动学上将人体划分成许多的“刚性块”，这样就将人体的非刚性重建问题退化成刚性物体的三维重建。
对于人体不同的“刚性快”，我们用它跟一个参数化的人体模型对应的部位进行融合变形。
随着数据的不断增加，参数化模型不同的身体部分跟真实的人体的实际模型之间的差距越来越小，最终得到一个精度较高的人体三维模型。
由于我们最终得到的模型本身是一个参数化的模型，因此我们可以将其变换到人体不同姿势下如图~\ref{fig:introduction}中第二行。

与~\ref{sec:depth_sensor_modeling}、~\ref{sec:multi_view_modeling}和~\ref{sec:single_view_modeling}中介绍的人体三维重建方法相比，本文所介绍的方法主要贡献如下：
\begin{itemize}
  \item 与深度相机重建相比，设备成本较低，能够重建出动态人体的三维模型；
  \item 与多相机重建相比，数据采集环境简单，不需要进行复杂的相机标定；
  \item 设计了一个运动学人体部位分类器，优化了人体~3D姿态精度；
  \item 是首个用普通~RGB~相机自动化重建出动态人体三维模型的系统。
\end{itemize}


\section{本文的章节组织形式}

\textbf{TODO}


\chapter{人体三维模型重建}
\label{chap:pipeline}

在这个章节中，我们将详细地介绍图~\ref{fig:pipeline}种展示的动态人体三维重建系统。
系统整体上可以分为以下几个主要步骤：

\begin{enumerate}
  \item 我们使用一个软件检测子来获取图像上人体~2D、~3D的关节点位置。因此不需要去手动标定图像上人体的关节点位置。
  \item 利用人体的运动学信息，我们优化了获取到的人体三维姿态信息，并将图像上的人体划分成许多刚性块的组合，使得动态人体三维重建从一个非刚性重建问题转换成刚性重建问题。
  \item 在不同的时间段，利用身体部位的光流并结合光束平差法(Bundle Adjustment)我们获得到人体不同部位的三维形状。随着越来越多的图像参投入到模型重建，不同身体部位重建的精度不断提高。
  \item 一个通用的参数化人体模型通过非刚性形变方法跟之前不同时间段获取到的人体不同部位的模型进行融合，并提取出人体运动过程中不同部位的刚性成分和非刚性成分。最终获取到人体体型模型，和每一帧下人体的三维模型。
\end{enumerate}

\begin{figure}[ht]
  \centering
  \includegraphics[width=\textwidth]{figures/pipeline.pdf}
  \caption{系统流程示意图}
  \label{fig:pipeline}
\end{figure}

\section{人体三维姿态检测}
\label{sec:pipeline_pose}

在我们的系统中，我们利用了Hasler等人~\cite{hasler2009statistical}提供的数据集，结合~Anguelov等人~\cite{anguelov2005scape}提供的方法训练出如图~\ref{fig:template}所示的~SCAPE~模型。
我们使用这个模型来解决重建过程中姿态变换和模型与不同刚性块的融合问题。

\begin{figure}[ht]
  \centering
  \subfigure[]{
    \includegraphics[height=0.5\textwidth]{figures/template1.png}
  }
  \subfigure[]{
    \includegraphics[height=0.5\textwidth]{figures/template2.png}
  }
  \caption{重建过程中使用的参数化模型。(a)：训练得到的~SCAPE~模型；(b)：模型的不同肢体部位。 }
  \label{fig:template}
\end{figure}

为了把~SCAPE~模型驱动到不同姿态下，我们就需要获取图片中人的三维姿态。
因此，我们对于每一帧图片都使用了~Yang等人~\cite{yang2011articulated}提供的2D人体姿态检测来获取图像上人体关节点的位置，然后使用~Wang等人~\cite{wang2014robust}的方法将图像上人体2D的姿态转换成3D的姿态。
接着，由于相邻帧图片上人体的运动是有一定关联性的，所以我们使用一个卡尔曼滤波器~\cite{kalman1960new}来优化我们得到2D、3D人体姿态，从而降低了错误的2D关节点对3D关节点的影响，提高系统的鲁棒性。
具体说来，因为相邻帧上的人体姿态变化是有一定的关联性，所以我们把人体3D的姿态看做是一个在时间上离散的线性动态系统。
我们假设 $P_i$ 表示第 $i$ 帧图片中人体的三维姿态，由于相邻帧中人体姿态具有较高的相关性，所以我们可以认为 $P_i$ 是由第 $i-1$ 帧上人体三维姿态 $P_i-1$ 变换而来。
这样一种动态关系我们可以用公式表示为：

\begin{equation}\label{eqn:Kalman_p}
  P_{i} = F_{i} P_{i-1} + B_{i} u_{i} + w_{i}
\end{equation}
其中 $F_{i}$ 是作用在前一时刻人体姿态 $P_{i-1}$ 上的状态转换模型，$B_{i}$ 是作用在控制向量 $u_i$ 上的控制输入模型。
$w_{i}$ 是系统中的过程噪声，并且满足常量协方差零均值的多元正态分布。
在第 $i$ 帧中，我们利用公式 \ref{eqn:Kalman_Z} 获取人体真是三维姿态 $P_i$ 的估计值 $Z_i$

\begin{equation}\label{eqn:Kalman_Z}
  Z_i=H_iP_i+v_i
\end{equation}
其中 $H_i$ 是一个观测模型；$v_i$ 是系统的观测噪声，它是有常量协方差的零均值搞死白噪声模型~\cite{kalman1960new}。
从图像中获取到人体的三维姿态之后，我们就使用上述的卡尔曼滤波器结合从上一帧中获取的人体三维姿态来优化当前的人体三维姿态。

\section{运动学分割优化人体姿态}
\label{sec:pipline_classification}


虽然上面获取到的人体姿态已经提供了分割图像中人体部位的部分信息，但是由于相机的透视投影、人体运动存在遮挡等因素，直接用前面获取到的人体姿态做人体部位分割是十分粗糙不准确的。
因为人体是靠骨骼支撑起来的，运动中骨骼的形变程度非常小，所以在较短的时间内我们可以忽略肢体部位表面的形变，认为该部位的运动是一个刚性体。
尽管人体上临近肢体间是靠关节连接的，但是属于不同肢体部位的运动是不同的。
在这里我们提出了一个运动学的分类器，借助人体不同部位的运动信息来比较准确的划分出人体的不同部位，从而进一步优化人体的二维、三维姿态，为后面重建出高质量的人体模型打下坚实的基础。
在物理学中，刚体是一个在运动中不发生任何形变的物体，换而言之，我们可以认为刚体在运动过程中都有着相似的位移。
根据之前获取的人体三维姿态并结合 SCAPE 模型，我们将人体划分成16个刚性块。
图 ~\ref{fig:kinematic_filter}说明了对图像上人体部位进行运动学分类的全过程。

\begin{figure}[h]
  \centering
  \includegraphics[width=\textwidth]{figures/silhouette.pdf}
  \caption{运动学分类步骤。
  (\textbf{a}) 将 SCAPE 模型投影到图像上获得包含分类信息的轮廓；
  (\textbf{b}) 图像中人体的轮廓；
  (\textbf{c}) SCAPE 模型轮廓和人体轮廓配准前；
  (\textbf{d}) 利用 CPD(coherent point drift~\cite{myronenko2010point}方法进行人体轮廓的匹配结果；
  (\textbf{e}) 借助 SCAPE 模型信息对图像上人体轮廓分类的结果；
  (\textbf{f}) 运动学分类结果。 首先，我们提取模型投影到图像上的轮廓以及图像上人体的轮廓； 然后，我们通过将 (\textbf{b}) 中人体轮廓和 (\textbf{a}) 中模型的轮廓进行配准并将人体轮廓进行分割得到 (\textbf{e}) 中结果。最后，我们利用全连通的条件随机场模型来获得图像上人体不同部位的分类结果 (\textbf{f})。}
  \label{fig:kinematic_filter}
\end{figure}

我们把每一帧图像看成是定义在变量 $\{I_1, \ldots, I_N\}$ 上的随机场 $\bf{I}$，其中 $I_i$ 是图像上像素 $i$ 所处位置 $p_i$ 处的像素值， $N$ 是图像上像素点的个数。
此外，随机场 $\bf{X}$ 是定义在变量集 $\{X_1, \ldots, X_N\}$ 上用来给每个像素 $i$ 确定其分类标签 $X_i$ 的。
我们用 $\mathbf{d_i}$ 来表示像素 $i$ 在相邻帧上的位移，并且通过由 Brox 和 Malik~\cite{brox2011large}提出的大位移光流算法来计算出位移的具体数值。
如公式~\ref{eqn:Gibbs_Enegy}所示， 通过最小化条件随机场的吉布斯能量来获得每个像素的最优分类结果。

\begin{equation}\label{eqn:Gibbs_Enegy}
  E\left(\bf{I, X}\right)=\sum_i\psi_u\left(I_i, X_i\right)+\sum_{i<j}\psi_p\left(X_i,X_j,I_i,I_j\right)
\end{equation}
其中，变量 $i$ 和 $j$ 的取值范围是 $\left[1, N\right]$。
单点势能(unary potential) $\psi_u$ 由公式~\ref{eqn:classifier}推导而出，它表示了标签 $X$ 和输入图像 $I$ 的匹配程度。

\begin{equation}\label{eqn:classifier}
\begin{aligned}
  &C\left(I_i, X_i\right)=
  \underbrace{\omega_{s}u_{s}\left(p_i,\mathbf{S}\left(X_i\right)\right)}_{silhouette} +
  \underbrace{\omega_{j}u_{j}\left(p_i,\mathbf{B}\left(X_i\right)\right)}_{joints} +
  \underbrace{\omega_{m}u_{m}\left(\mathbf{d_i},\mathbf{D}\left(X_i\right)\right)}_{motion}
  \\&s.t.\\
  &{\omega_s + \omega_j + \omega_m = 1}
\end{aligned}
\end{equation}
其中 {$\omega_s$, $\omega_j$} 和 {$\omega_m$} 是权重因子，并且 $\mathbf{S}\left(X_i\right)$ 表示每个分类标签 $X_i$ 所对应的图像上人体轮廓点。
因为 SCAPE 模型上有不同肢体部位所对应点集的信息，所以不同标签 $X_i$ 所对应的人体轮廓点可以通过将 SCAPE 模型投影到图像上，利用 CPD (Coherent Point Drift)~\cite{myronenko2010point}算法将模型的轮廓和人体的轮廓进行非刚性配准得到。
轮廓项能量 $u_s$ 是由计算图像上 $p_i$ 处的点和人体轮廓上点的最小二乘距离表示的。
\begin{equation}\label{eqn:clas_sil}
  u_s\left(p_i,\mathbf{S}\left(X_i\right)\right)=\exp\left(-\frac{\min\left(\left|p_i-\mathbf{S}\left(X_i\right)\right|^2\right)}{2\theta_s^2}\right)
\end{equation}
$\mathbf{B}\left(X_i\right)$ 是图像上被标记为 $X_i$ 的骨骼的重心。
因此，关节项能量 $u_j$ 通过公式~\ref{eqn:clas_joint}计算得到。
\begin{equation}\label{eqn:clas_joint}
  u_j\left(p_i,\mathbf{B}\left(X_i\right)\right)=\exp\left(-\frac{\left|p_i - \mathbf{B}\left(X_i\right)\right|^2}{2\theta_j^2}\right)
\end{equation}
其中参数 $\theta_s$ 和 $\theta_j$ 控制图像上像素点间的连接强度和范围。

此外，我们提出了运动项能量 $u_m$ 来表示像素 $I_i$ 的运动跟刚性块 $X_i$ 的运动的匹配程度。
$\mathbf{D}\left(X_i\right)$ 表示标签为 $X_i$ 的骨骼的重心位移，这个是通过相邻帧上人体姿态的变化计算得到。

\begin{equation}\label{eqn:clas_move}
  u_m\left(\mathbf{d_i},\mathbf{D}\left(X_i\right)\right)=\rho_{\mathbf{d}}\left(1 + \frac{\mathbf{d_i}\bullet\mathbf{D}\left( X_i\right)}{\left|\mathbf{d_i}\right|\left|\mathbf{D}\left(X_i\right)\right|}\right)
\end{equation}
运动项能量通过评估像素 $I_i$ 和标签为 $X_i$ 的骨骼重心的位移匹配程度提高了图像上人体部位分类的精度。

公式~\ref{eqn:Gibbs_Enegy}中成对点势能(pairwise potentials) $\psi_p$ 是由公式~\ref{eqn:pair_wise}计算得到。

\begin{myequation}\label{eqn:pair_wise}
\begin{aligned}
  \psi_p&\left(X_i,X_j,I_i,I_j\right)=
  \mu\left(x_i,x_j\right)\exp\left(-\frac{\left|p_i-p_j\right|^2}{2\theta_{\alpha}^2}-\frac{\left|X_i-X_j\right|^2}{2\theta_{\beta}^2}\right)
  +\mu\left(x_i,x_j\right)\exp\left(u_m\left(\mathbf{d_i},\mathbf{d_j}\right)-1\right)
\end{aligned}
\end{myequation}
其中$\theta_{\alpha}$ 和 $\theta_{\beta}$ 参数表示了图像上像素点间的相似程度和临近程度。
标签兼容函数 $\mu\left(x_i,x_j\right)$ 通过波特模型得到，$\mu\left(x_i,x_j\right)=\left[x_i\not=x_j\right]$。
$\psi_p$ 的作用是处于某个区域中有相似运动的像素点更有可能属于同一个肢体部位。
我们使用由 Krahenbuhl等人~\cite{krahenbuhl2012efficient}实现的高效平均场求解方法来优化目标函数~\eqref{eqn:Gibbs_Enegy}。

为了检验公式~\eqref{eqn:classifier}中我们提出的运动项的有效性，我们让 $\omega_{m} = 0$，然后用同样的求解方法来求解上述的稠密条件随机场。
对比结果如图~\ref{fig:classification}所示，包含运动项所得到的分类结果(图中右边的结果)比没有利用运动项获得的结果(图中中间的结果)要精确很多。
有运动项存在的情况下人体的右腿和腹部之间的划分更加准确，并且在手臂遮挡住胸口的情况下也能准确区分手臂和胸部。

\begin{figure}[h]
 \centering
 % Requires \usepackage{graphicx}
 \includegraphics[width=0.8\textwidth]{figures/classification.pdf}
 \caption{身体部位运动学分类。 左边的是通过 RGB 相机获取的原始图像；中间的图是没有运动项参与时的分类结果；右边的结果表明在运动项的参与下分类的结果很精确并且能够处理有遮挡的情况。}
 \label{fig:classification}
\end{figure}


\section{稠密三维重建}

\subsection{对应点匹配}

\subsection{模型刚性、非刚性成分分解}

\chapter{结果和讨论}

\section{定性分析}

\section{定量分析}

\section{对比}

\chapter{结论}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 附件部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\backmatter

% 参考文献
% 使用 BibTeX，不使用 BibTeX 时注释掉下面一句。
\bibliography{template}

% 不使用 BibTeX
%\begin{thebibliography}{2}
%
%\bibitem{deng:01a}
%{邓建松,~彭冉冉,~陈长松}.
%\newblock {\em \LaTeXe{}~科技排版指南}.
%\newblock 科学出版社,~书号:~7-03-009239-2/TP.1516, 北京, 2001.
%
%\bibitem{wang:00a}
%王磊.
%\newblock {\em \LaTeXe{}~插图指南}.
%\newblock 2000.
%\end{thebibliography}

% 本章可以删去
\Nchapter{简历与科研成果}

\noindent {\heiti 基本情况}
\vspace{1ex}

\noindent 杨文博，男，汉族，1986~年~11~月出生，河南省民权县人。

\vspace{2ex}
\noindent {\heiti 教育背景}

\begin{description}[labelindent=0em, leftmargin=8em, style=sameline]

\item[2007.9～2010.6] 中国科学院研究生院信息安全国家重点实验室 \hfill 硕士

\item[2003.9～2007.6] 南京大学数学系 \hfill 本科

\end{description}

% 发表文章目录
\vspace{5ex}
\begin{Publications}{2}

\item Wenbo Yang and Wen Tao Zhu, ``Voting-on-Grid Clustering for Secure
  Localization in Wireless Sensor Networks,'' in \emph{Proc. IEEE
  International Conference on Communications (ICC) 2010}, May. 2010.

\item Wenbo Yang and Wen Tao Zhu, ``Protecting Source Location Privacy in
Wireless Sensor Networks with Data Aggregation,'' in \emph{Proc. 7th
International Conference on Ubiquitous Intelligence and Computing (UIC) 2010},
Oct. 2010.

\end{Publications}

\vspace{4ex}
\noindent {\heiti 攻读硕士学位期间参与的科研课题}

\begin{enumerate}[label=\arabic*., labelindent=0em, leftmargin=*]

\item 国家自然科学基金面上项目``无线传感器网络在知识获取过程中的若干安全问题研究''
(课题年限~2010.1～2012.12)，负责位置相关安全问题的研究。

\item 中国科学院知识创新工程重要方向项目下属课题``下一代移动通信安全机制研究''
(课题年限~2010.1～2010.12)，负责~LTE/SAE~认证相关的安全问题研究。

\end{enumerate}

  % 致谢
%\begin{thanks}
%\vskip 18pt
%
%首先感谢XXX
%
%\end{thanks}


\end{document}
